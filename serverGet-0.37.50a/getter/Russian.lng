; [это пример language file к программе rss2fido]
;
; Пояснение насчёт lng файла
; Формат:
;
; [идентификатор]
;   ...
; текст сообщения
; (действие или экран)
;
;   ...
; [end]
;
; Перед запуском программы rss2fido закройте этот файл
;


; макрокоманда: @delay: XXX
;---------------------------- (language file only)
; Этот параметр указывает на время задержки выполнения программы
; Формат: [идентификатор]: время_в_секундах
; Во время задержки можно использовать [Enter] для продолжения
; работы программы и [Esc] для выхода из программы
; Доступен макрос @key бесконечно долго ждет нажатия любой клавиши
; (используйте для отладки; используйте, если есть необходимость)
; В новой версии [Enter] соответствует пробел и "y";
; [Esc] соответстует "n"
;
; макрокоманда: @beep: XXX,XXX
;---------------------------- (language file only)
; Звуковой сигнал
; Формат: [идентификатор]: звуковая_частота, продолжительность
;
; макрокоманда: @file: file.log
;---------------------------- (language file only)
; Этот параметр позволяет записывать строку в файл.
; Предназначен для ведения настраиваемого лог файла.
; Формат: [идентификатор]: имя_файла строка_для_записи
;
; макрокоманда: @logtime
;----------------------------
; Предназначен для записи в файл даты и времени в формате ДД-Мес-ГГГГ ЧЧ:ММ:СС
; либо вывода на экран
;
; Также есть группа макросов даты и времени:
; @hour, @minute, @second, @year, @mounth, @day, @week
;
; макрокоманда: @cycle
;----------------------------
; Номер проверки ленты
;
; макрокоманда: @number
;----------------------------
; При работе с конфиг файлом: номер RSS ленты
;
; макрокоманда: @clear
;---------------------------- (language file only)
; Очистка экрана
;
; макрокоманда: @program
;----------------------------
; Название программы
;
; макрокоманда: @version
;----------------------------
; Версия программы
;
; макрокоманда: @assembly
;----------------------------
; Дата и время сборки программы
;
; макрокоманда: @home
;----------------------------
; Выдает текущий каталог с программой
;
; макрокоманда: @goto: XXX,XXX
;---------------------------- (language file only)
; Переместить курсор
; Формат: [идентификатор]: X,Y
;
; макрокоманда: @line: XXX, XXXXXXXXXXXXXXXXXXXXX
;---------------------------- (language file only)
; Вывести строку на экран
; Формат: [идентификатор]: колличество, строка
; Если выводится одна строка, то в @line нет необходимости
;
; макрокоманда: @level: XXX
;---------------------------- (language file only)
; Код выхода из программы в тех случаях когда это предусмотрено
;
; макрокоманда: @color: XX,XX
;---------------------------- (language file only)
; Краска
; Первый аргумент меняет цвет текста, второй аргумент меняет цвет фона
; Формат: [идентификатор]: цвет_текста, цвет_фона
;
; макрокоманда: @exec: XXXXXXXXXXXXXXXXXXXXXXXXX
;---------------------------- (language file only)
; Выполнить внешнюю программу, коммандный файл
; Формат: [идентификатор]: путь_к_программе
;
; макрокоманда: @exit
;---------------------------- (language file only)
; Выход из программы
;
; макрокоманда: @error: XXX
;---------------------------- (language file only)
; Мгновенный выход из программы без предупреждений с кодом завершения
; Формат: [идентификатор]: код_завершения_программы
;
; макрокоманда: @multi
;----------------------------
; Выдает два значения:
; TRUE если работа с конфигурационным файлом и
; FALSE если программа работает без конфиг. файла
;
; макрокоманда: @read: XXXXXXXXXXXXXXXXXXXXXXXXX
;---------------------------- (language file only)
; Присвоить значение макросу или переменной из configure file
; Формат: [идентификатор]: значение
; Длинну строки для макроса @read: можно задать
; с помощью макроса @length: [длинна]
; По умолчанию длинна строки @read: равна 60 знакам
; так же доступен макрос @set, аналогичний в конфиге
; Пример: @set: @address http://news.yandex.ru/world.rss
;
; макрокоманда: @window: XXXXXXXXXXXXXXXXXXXXXXXXX
;---------------------------- (language file only)
; Задать заголовок окна программы
; Формат: [идентификатор]: значение
;
; макрокоманда: @br
;----------------------------
; Перенос строки, Enter, пустая строка
;
; макрокоманда: @view: XXXXXXXXXXXXXXXXXXXXXXXXX
;---------------------------- (language file only)
; Показать содержимое файла на экран
; Формат: [идентификатор]: имя_файла
;
; макрокоманды: @help, @info, @copyright
;---------------------------- (language file only)
; Тоже самое, что и rss2fido --help,
; --info, --copyright - соответст.

; -------------------------------------------------------------
; Обратите внимание, что все эти макрокоманды (макросы)
; переназначать нельзя

;
; макрокоманда: @address
;----------------------------
; Адрес RSS ленты, указанный как единственный параметр к программе
; (не имеет значения: без конфиг. файла или с конфиг. файлом)
;
; Доступны так же все переменные из конфиг файла,
; преобразованные в макрокоманды
; Например, address (адрес текущей ленты) -- это @address
; Эти макрокоманды доступны не только при использовании конфиг. файла
;
; Так же есть локалные макросы, значение которых формируется
; в процессе работы программы и в зависимости от группы настроек
; при подключенном configure files.

; В конфиг файле есть переменные, которые в language file
; являются макросами: out, exec, sender, delete, create, view
; Чтобы выполнить макрос сделайте следующее:
; @[имя_переменной]: имя_файла
; пример: @view: help.txt
; будет выполнено действие @view,
; но значение переменной конфига при этом не изменится.
; Если необходимо выполнить все значения переменной конфига,
; то сделайте так: @имя_переменной_all
; пример: @view_all
; будут выполнены все действия, присвоенные переменной
; конфига view в текущей группе
; Кроме того, есть макрос @send_path_all,
; который добавляет все сообщения настроенные
; с помощью @send_path
;
; Последовательность выполнения действий программой:
; out_all, send_all, send_path_all, create_all,
; exec_all, view_all, delete_all
; Естественно, можно менять эту последовательнось через
; language files, задавая значения переменных самостоятельно
;
; Укажите в конце макрокоманды "#" и значение будет
; присвоено только тогда, когда чему-то равно
; Есть переменная в конфиге: "unknown" -- подробности там же.
;
; Если символ макроса удвоить например, так: @@address,
; то макрос не будет выполнен
; Есть переменная в конфиге: "disable" -- так же.
;
; -------------------------------------------------------------
;  Определение зарезервированных действий
; -------------------------------------------------------------

[start]
; Эта страница показывается при запуске программы
 @file: rss2fido.log @logtime Запуск программы
 @file: rss2fido.log @logtime Дата сборки: @assembly,
 @file: rss2fido.log @logtime версия: @version
; Окно приветствия

                                                       @version

  @window: The @program the date of the assembly on @assembly @version
  @beep: 440,600
  @color: 15, 10
  @clear


 Указаны следующие параметры:
 ────────────────────────────────────────────────────────────
 Адрес RSS ленты: @address

 Краткое пояснение
 Через каждые 50 минут будет скачиваться RSS лента,
 затем будут найдены новые сообщения,
 текст будет извлечен и переведен в CP866,
 обработан согласно шаблону, создан out файл
 согласно настройкам.
 (по умолчанию: [каталог с программой]CP866_out.txt)
 Если ленту нужно проверять чаще чем каждые 50 минут,
 то исправьте значение @delay в language file.
 Идентификаторы: [unit] и [multi].

 Нажмите клавишу [Enter] либо ждите 25 сек.
 @delay: 25

[end]

[enter]
; Это окно показывается при запуске программы
; @window: @program > запуск программы
 @color: 15, 9
 @clear
 @goto: 1,3
  ┌───────── ─── ── ─  ─   ─     ─
  │ RSS address: 
  └───────────────── ──── ─── ──  ─   ─    ─     ─
 @length: 62
 @goto: 18,4
 @read: @address

 @color: 15, 13
 @clear
 @goto: 1,3
  ┌───────── ─── ── ─  ─   ─     ─
  │ file out: 
  └───────────────── ──── ─── ──  ─   ─    ─     ─
 @length: 65
 @goto: 15,4
 @read: @out
 @clear

[end]

[config]
; Экран показывается, если работа идет через конфиг
; @window: @program > читаем конфиг
  @clear

;subprog: loading configure files
(multi = @multi)
;path: @cfg
[end]

[string]
; Этот экран показывается, если идет загрузка из командной строки
; @window: @program > запуск программы из строки
;string loaded
; out file: @out
;@key
[end]

[ERROR_RSS]
; Это сообщение показывается когда не указан обязательный
; параметр к программе -- адрес ленты RSS
; @window: @program > ошибка: не указан (или указан не правильно) RSS address
 @color: 15, 12
 @clear
 @goto: 1,2

  Address: @address
 ────────────────────────────────────────────────────────────
  Не указан или указан не правильно адрес RSS ленты
  как единственный параметр к программе
  Пример: d:\fido\rss2fido.exe http://news.yandex.ru/world.rss

  going out ....................

 @file: rss2fido.log @logtime Не задан адрес ленты
 @delay: 5
 @level: 201

 @color: 8, 0
 @clear
[end]

[error_template]
; Этот лист показывается когда не возмодно найти ни один template
;
; @window: @program > ошибка: не возможно найти template files
 @color: 15, 12
 @clear

  Положите 1 любой шаблон в каталог с программой rss2fido.
  Программой будет обработан первый по названию шаблон с расширением tpl.
  Без шаблона программа работать не будет.

 @file: rss2fido.log @logtime Отсутствует шаблон для RSS ленты
 @level: 202

 @color: 8, 0
 @clear
[end]


[error_url]
; Этот лист показывается когда временно теряется Интернет соединение
; или отсутствует файл на сервере
; @window: @program > ошибка: потяряно Интернет-соединение
 @color: 15, 12
 @clear

 Лента RSS не закачена из-за потери Интернет
 соединения либо отсутствует на сервере.

 ────────────────────────────────────────────────────────────
 Адрес RSS ленты: @address

 @file: rss2fido.log @logtime Временно пропало Интернет соединение
 @delay: 25
[end]

[error_item]
; Этот лист показывается, если в ленте нет ни одного сообщения
; @window: @program > ошибка: в ленте нет ни одного сообщения
 @color: 15, 12
 @clear

  @address
 ────────────────────────────────────────────────────────────
  Проверьте то, что Вы скачиваете.
  В RSS потоке отсутствует тэг <@item>, а, следовательно,
  нет ни одной новости.

 @file: rss2fido.log @logtime В RSS потоке отсутсвуют новости
 @delay: 25

[end]

[error_cfg]
; Этот лист показывается, если не найден конфиг. файл,
; заданный параметром "-c" к программе
; @window: @program > ошибка: не найден configure file

Указан путь к конфиг файлу: @cfg
Указанный конфиг файл не найден
 @level: 203
[end]

[master]
; @window: @program > скачивается лента
 @color: 15, 10
 @clear

  Скачивается лента, ждите...

[end]

[size]
; Это сообщение показывается, если не появилось нового сообщения
; @window: @program > не найдено ни одного сообщения
;
;
  @clear

  Новые сообщения не найдены
  Дата последней записи: @writetime
; @writetime - дата последней записи в *.dtb файл
  @delay: 3
[end]

[error_open]
; Если нельзя открыть файл
; @window: @program > ошибка: нельзя открыть файл

Error open: @open
; локальная макрокоманда: @open
;----------------------------
; Имя файла, которого не возможно открыть

 @level: 204
[end]

[error_exist]
; Если нет файла
; @window: @program > ошибка: нет файла

 Нет файла: @exist
; локальная макрокоманда: @exist
;----------------------------
; Имя файла, которого не возможно найти

 @key

[end]

[error_path]
; Если неправильный путь к файлу
; @window: @program > ошибка: неправильный путь к файлу

  Задан неправильный путь к файлу: @path
; локальная макрокоманда: @path
;----------------------------
; Путь, который задан не правильно

[end]

[msgbase]
; @window: @program > сообщение успешно отправлено

 @clear

  Сообщение успешно отправлено внутренним постером
 ───────────────────────────────────────────────────
  Название почтовой базы: @send_path (msg: @msg)
; локальная макрокоманда: @msg
;----------------------------
; Количество сообщений в почтовой базе
;
  Формат: @send_format

  Имя автора письма: @send_from
  Кому отправлено: @send_to
  Тема: @send_subj

 @delay: 5
[end]

[pkt]
; @window: @program > сообщение успешно сформировано

 @clear

  Сообщение успешно сформировано в формате pkt
 ───────────────────────────────────────────────────
  Имя сообщения: @pkt
  Всего почтовых пакетов: @msg шт.
; локальная макрокоманда: @pkt
;----------------------------
; Полное имя сообщения

 @delay: 5
[end]

[error_address]
; @window: @program > ошибка: не правильно задан FTN адрес

  Не правильно задан адрес:
  from: @send_faddress
  to: @send_taddress
 @code : 205
[end]

[error_msgbase]
; Этот экран показывается до тех пор,
; пока почтовая база не будет открыта
; и записано сообщение сформированное программой
; @window: @program > ошибка: не возможно открыть почтовую базу, ждем-с...

  Не возможно открыть почтовую базу
  @send_path

  Повтор попытки через 5 сек.

  @delay: 5
[end]

[error_format]
; @window: @program > ошибка: неправильный формат почтовой базы

  Ошибка при задании формата почтовой базы @send_format
 @level: 206
[end]

[unit]
; Окно ожидания перед следующим циклом (закачка, проверка, etc)
; @window: @program > в ожидании следующей проверки
;
 @color: 15, 9
 @clear

  Следующая закачка и проверка летны будет через 3000 сек. (50 мин)
  Нажмите [Enter] для принудительной проверки ленты
  Нажмите [Esc] для выхода из программы



  А знаете ли Вы что ...
  ... что можно запусить программу с помощью nnCron
  без вывода на экран и появления консольного окна?

  Создайте для этого примерно следующее:

                #( rss2fido
                Time: START-TIME
                Action:
                    SWHide
                    START-APP: d:\fido\rss2fido.bat
                )#
 @delay: 3000
[end]

[multi]
; Эта страница показывается вместо окна ожидания
; и только, если вы работаете
; с программой через конфиг файл
; @window: @program > в ожидании следующей проверки

 @color: 15, 9
 @clear

  мульти режим работы программы
 ────────────────────────────────────────────────────────────
  Следующая закачка и проверка летны будет через 300 сек. (5 мин)
  Нажмите [Enter] для принудительной проверки ленты
  Нажмите [Esc] для выхода из программы

  Текущие параметры:
 ─────────────────────────────────
  Название: @name
  @length: 64
  Адрес ленты: @address
  @length: 69
  Шаблон: @template
  @length: 62
  Языковой файл: @language
  @length: 56
  Результирующий файл: @out
;  Командный файл: @sender

  Прошло циклов: @cycle шт.
  Номер ленты: @number.

 @delay: 300
[end]

[delay]
; Экран показывается при работе макроса @delay: XXX, XXX
;Нажмите [Enter] для продолжения...
; Здесь макос @delay не работает
[end]

[key]
; Экран показывается при работе макроса @key
Нажмите любую клавишу для продолжения...
; Здесь макрос @key не работает
[end]

[code]
; Это сообщение выводится на экран после определения
; кодовой страницы
; @window: @program > определена кодовая страница
Адрес ленты: @address
Определена кодовая страница @code RSS ленты
; локальная макрокоманда: @code
;----------------------------
; Имя определенной (или не определенной =))
; кодовой страницы RSS ленты

;  Используйте параметр @code только здесь т.к.
;  он создаётся в процессе работы программы
;
 @file: rss2fido.log @logtime RSS лента в @code кодировке
[end]

[news]
; Это страница появляется перед
; началом обработки сообщения из RSS ленты
; @window: @program > найдены новые сообщения
Start news!
Всего сообщений: @q_item, будет добавлено: @q_news
; локальная макрокоманда: @q_item
;----------------------------
; Всего сообщений в RSS ленте новостей
;
; локальная макрокоманда: @q_news
;----------------------------
; Будет добавлено новых сообщений
; в процессе работы программы
;
;
[end]

[news_add]
; Это сообщение появляется только если найдено хотя бы одно значение,
; обозначенное в template
; @window: @program > добавляется сообщение с тегом <@news>
News @news append (var. @mode_news)
; локальная макрокоманда: @news
;----------------------------
; Имя добавляемого значения,
; которое должно быть определено в template files
; и найдено в новости RSS ленты
;
; локальная макрокоманда: @mode_news
;----------------------------
; Переносить на следующую строку,
; не переносить или просто обрезать
; см. template files
;
[end]

[error_news]
; Если значение не найдено
; @window: @program > ошибка: <@news> не найдено в ленте
Значение "@news" не найдено
 @file: rss2fido.log @logtime Значение "@news" не найдено
 @delay: 5
[end]

[macros]
; Выход по макросу @exit (здесь этот макрос не работает)
 @color: 15, 4
 @clear

  ThE MacRoS ExiT.
 @goto: 0, 20
 @delay: 2
 @clear
[end]

[file]
; Это сообщение показывается в том случае,
; если найден файл-флажок next.ok или exit.ok

Найден флажок @file
 @file: rss2fido.log @logtime Найден флажок @file @br
; локальная макрокоманда: @file
;----------------------------
; Имя найденного флажка

 @level: 207
[end]

[error_exit]
; Это сообщение появляется, если работа программы завершена с ошибкой
; @window: @program > ошибка: программа завершена с ошибкой
; @color: 15, 12
; @clear
;
 @file: rss2fido.log @logtime Работа программы завершена с ошибкой @br
 @level: 10
[end]

[exit]
; Это сообщение появляется при завершении работы программы
; @window: @program > программа завершена
 @color: 15, 0
 @clear
 @file: rss2fido.log @logtime Работа программы завершена @br
; Программа завершена
 @level: 0
[end]

; -------------------------------------------------------------
;  Определение действий по клавишам
; -------------------------------------------------------------
; Также на каждую клавишу можно повесить действие
; Пример для клавиши "Q":
[key#Q]
; Если нажать клавишу "Q", то выполнится сдедующее действие:
Превед.
; На экране показывается слово "Превед."
@key
; затем ожидается нажатие клавиши
[end]
; Также доступны клавиши F1-F12
; Пример:
[key#F1]
 @color: 7, 0
 @clear
 @help
; @info
; @view: additional\help_rus.txt
 @key

[end]
[key#F12]
; Пример для клавиши F12:
 @color: 7, 0
 @clear
 @info
 @key
[end]

[key#i]
 @color: 7, 0
 @clear
 @info
 @key
[end]

[key#h]
 @color: 7, 0
 @clear
 @help
 @key
[end]

[key#?]
 @color: 7, 0
 @clear
 @help
 @key
[end]

[key#c]
 @color: 7, 0
 @clear
 @copyright
 @key
[end]

[key#F2]
 @color: 7, 0
 @clear



 @exec: d:\GoldEd\GoldEd#1.bat

[end]

[key#F3]
 @color: 7, 0
 @clear



 @exec: D:\FAR\FAR.EXE

[end]

